$(document).ready(function(){function t(){v=[],L.each(function(){v.push({hook:$(this).attr("href"),offset:$($(this).attr("href")).offset().top})})}function n(){m===!0&&(u=$("#main-section").offset().top-18),t()}function e(t){return 0==f&&0==d?(document.getElementById("morph-anim").beginElement(),$("#morph-anim").attr("from","M0,0L100,0L100,10,100 10, 0 10,0 10Z").attr("to","M0,0L100,0L100,10,100 10, 0 10,0 10Z").attr("values","M0,0L100,0L100,10,C100 10, 0 10,0 10Z;M0,0L100,0L100,10,C98 18, 2 12,0 10Z;M0,0L100,0L100,10,C95 15, 5 15,0 10Z;M0,0L100,0L100,10,C90 20, 10 20,0 10Z;M0,0L100,0L100,10,C80 30, 20 30,0 10Z;M0,0L100,0L100,10,C70 40, 30 40,0 10Z;M0,0L100,0L100,10,C65 45, 35 45,0 10Z;M0,0L100,0L100,10,C60 50, 40 50,0 10Z;M0,0L100,0L100,10,C65 45, 35 45,0 10Z;M0,0L100,0L100,10,C70 40, 30 40,0 10Z;M0,0L100,0L100,10,C80 30, 20 30,0 10Z;M0,0L100,0L100,10,C90 20, 10 20,0 10Z;M0,0L100,0L100,10,C95 15, 5 15,0 10Z;M0,0L100,0L100,10,C98 18, 2 12,0 10Z;M0,0L100,0L100,10,C100 10, 0 10,0 10Z;")):1==f&&0==d&&(document.getElementById("morph-anim").beginElement(),$("#morph-anim").attr("from","M0,0L100,0L100,20,100 10, 0 10,0 20Z").attr("to","M0,0L100,0L100,40,C65 0, 35 0,0 40Z").attr("values","M0,0L100,0L100,10,C100 10, 0 10,0 10Z;M0,0L100,0L100,12,C98 9, 2 9,0 12Z;M0,0L100,0L100,16,C95 7, 5 7,0 16Z;M0,0L100,0L100,20,C90 5, 10 5,0 20Z;M0,0L100,0L100,26,C80 3, 20 3,0 26Z;M0,0L100,0L100,32,C70 1, 30 1,0 32Z;M0,0L100,0L100,40,C65 0, 35 0,0 40Z;M0,0L100,0L100,30,C65 0, 35 0,0 30Z;M0,0L100,0L100,20,C65 0, 35 0,0 20Z;M0,0L100,0L100,10,C65 0, 35 0,0 10Z;")),s.show().toggleClass("active"),l.toggleClass("active"),$("#shape-morph").toggleClass("active"),f=!f,!1}function i(t){t.preventDefault(),$("html, body").animate({scrollTop:0},200)}function a(t){$("html, body").animate({scrollTop:$(t).offset().top},200)}function o(){if(g=$(window).scrollTop(),1==f&&e(),g>50&&1==c?(r.toggleClass("active"),c=!1):50>=g&&0==c&&(r.toggleClass("active"),c=!0),1==m){g>u?h.addClass("affixed"):h.removeClass("affixed");for(var t=0;t<v.length;t++)g>=v[t].offset-10&&($("#main-navigation li a[href='"+v[t].hook+"']").hasClass("active")||(L.removeClass("active"),$("#main-navigation li a[href='"+v[t].hook+"']").addClass("active")))}}console.log("offKit says hello to you, sailor!");var s=$("#nav-offkit"),l=$("#menu-btn"),r=$("#top-btn"),f=!1,c=!0,d=!1;if(0!=$("#main-navigation").length){var h=$("#main-navigation"),L=$("#main-navigation li a"),u=$("#main-section").offset().top-18,g=0,m=!0,v=[];t(),L.on("click",function(t){t.preventDefault(),a($(this).attr("href"))})}else var m=!1;0!=$(".internal").length&&$(".internal").on("click",function(t){t.preventDefault(),a($(this).attr("href"))}),Modernizr.inlinesvg||($("#shape-morph").remove(),d=!0,s.find("ul").css("padding","0.85em 0 1.5em 0")),g=$(window).scrollTop(),g>50&&1==c&&(r.toggleClass("active"),c=!1),$(window).resize(n),0!=$("#live-search").length&&$("#l-s-input").on("keyup blur",function(){var t=$(this),n=t.val();if(searching=!1,count=0,$("#l-s-find-next").unbind("click"),$("#l-s-icon").text("…"),""==n||n.length<=2||n.match(/^\s*$/))searching=!1,$("#content").find(".l-s-highlight").contents().unwrap(),$(".l-s-faded").removeClass("l-s-faded").fadeIn(),$("#intro-text").fadeIn(),$("#l-s-find-next").fadeOut(),h.find("a").removeClass("l-s-striked"),$("#l-s-icon").text("S"),$("#l-s-icon").unbind("click");else{searching=!0;var e=new RegExp("("+n+"+(?![^<>]*>))","igm");$("#content").find(".l-s-highlight").contents().unwrap(),$("#content article").each(function(){var t=$(this).attr("id");if($(this).html().search(e)<0)$(this).addClass("l-s-faded"),h.find("a[href=#"+t+"]").addClass("l-s-striked");else{var n=$(this).html(),i=n.replace(e,"<span class='l-s-highlight'>$1</span>");$(this).html(i),count++,$(this).addClass("l-s-faded")&&($(this).removeClass("l-s-faded").fadeIn(),h.find("a[href=#"+t+"]").removeClass("l-s-striked"))}});var i=count;if(i>0){var a=!1;$("#intro-text").fadeOut(),$(".l-s-faded").fadeOut();var o=$(".l-s-highlight").length;$("#l-s-find-next").fadeIn(100),$("#l-s-find-next").bind("click",function(){g=$(window).scrollTop(),count=-1,$(".l-s-highlight").each(function(){return count++,$(this).offset().top>=g+1?(console.log("finished"),!1):void 0}),(count==o||1==a)&&(count=0),count==o-1&&(a=!0),0==count&&(a=!1),$("html, body").animate({scrollTop:$($(".l-s-highlight")[count]).offset().top},200)})}else console.log("na rien trouvé"),$(".l-s-faded").removeClass("l-s-faded").fadeIn(),$("#intro-text").fadeIn(),$("#l-s-find-next").fadeOut(),h.find("a").removeClass("l-s-striked");$("#l-s-icon").text("X"),$("#l-s-icon").bind("click",function(){$("#l-s-input").val(""),$("#l-s-input").trigger("keyup")})}}),l.on("click",e),r.on("click",i),$(window).on("scroll",o)});